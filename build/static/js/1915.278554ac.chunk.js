"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1915],{61915:(e,a,r)=>{r.r(a),r.d(a,{default:()=>x});var l=r(72791),o=r(23458),t=r(78983),n=r(93076),i=r(30386),s=r(76131),c=r(24846),d=r(99161),u=r(81172),h=r(29759),v=r(30434),y=r(24914),m=r(75015),p=r(98723),f=(r(96558),r(8379)),b=r(14701),g=r(80184);const x=()=>{var e,a,r,x,j,Z;const[k,B]=(0,l.useState)([]),[C,_]=(0,l.useState)("daily"),[N,H]=(0,l.useState)(!1);d.E,u.Q,h.N,v.t,y._,m.n;(0,l.useEffect)((()=>{(async()=>{const e=localStorage.getItem("userInfo"),a=JSON.parse(e).data.accessToken;try{H(!0);const e=await fetch("".concat(o.C,"/admin/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}});if(e.ok){const a=await e.json();B(a),console.log(a)}else console.error("Error fetching users:",e.statusText)}catch(r){console.error("Error fetching users:",r)}finally{H(!1)}})()}),[]);const M={daily:{labels:null!==(e=k.data)&&void 0!==e&&e.revenueByDay?Object.keys(k.data.revenueByDay):[],datasets:[{label:"Daily Revenue",backgroundColor:(0,i.Z)((0,s.Z)("--cui-info"),10),borderColor:(0,s.Z)("--cui-info"),pointHoverBackgroundColor:(0,s.Z)("--cui-info"),borderWidth:2,data:null!==(a=k.data)&&void 0!==a&&a.revenueByDay?Object.entries(k.data.revenueByDay).map((e=>{let[a,r]=e;return console.log("Day:",a,"Value:",r),r})):[],fill:!0}]},monthly:{labels:null!==(r=k.data)&&void 0!==r&&r.revenueByMonth?Object.keys(k.data.revenueByMonth):[],datasets:[{label:"Monthly Revenue",backgroundColor:(0,i.Z)((0,s.Z)("--cui-info"),10),borderColor:(0,s.Z)("--cui-info"),pointHoverBackgroundColor:(0,s.Z)("--cui-info"),borderWidth:2,data:null!==(x=k.data)&&void 0!==x&&x.revenueByMonth?Object.entries(k.data.revenueByMonth).map((e=>{let[a,r]=e;return console.log("Month:",a,"Value:",r),r})):[],fill:!0}]},yearly:{labels:null!==(j=k.data)&&void 0!==j&&j.revenueByYear?Object.keys(k.data.revenueByYear):[],datasets:[{label:"Yearly Revenue",backgroundColor:(0,i.Z)((0,s.Z)("--cui-info"),10),borderColor:(0,s.Z)("--cui-info"),pointHoverBackgroundColor:(0,s.Z)("--cui-info"),borderWidth:2,data:null!==(Z=k.data)&&void 0!==Z&&Z.revenueByYear?Object.entries(k.data.revenueByYear).map((e=>{let[a,r]=e;return console.log("Year:",a,"Value:",r),r})):[],fill:!0}]}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{}),(0,g.jsxs)(t.xH,{className:"mb-4",children:[(0,g.jsxs)(t.sl,{children:[(0,g.jsxs)(t.rb,{children:[(0,g.jsxs)(t.b7,{sm:5,children:[(0,g.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Th\u1ed1ng k\xea b\xe1n h\xe0ng"}),(0,g.jsx)("div",{className:"small text-medium-emphasis"})]}),(0,g.jsxs)(t.b7,{sm:7,className:"d-none d-md-block",children:[(0,g.jsx)(t.u5,{color:"primary",className:"float-end",children:(0,g.jsx)(c.Z,{icon:p.j})}),(0,g.jsx)(t.Z0,{className:"float-end me-3",children:[{value:"daily",label:"Ng\xe0y"},{value:"monthly",label:"Th\xe1ng"},{value:"yearly",label:"N\u0103m"}].map((e=>(0,g.jsx)(t.u5,{color:"outline-secondary",className:"mx-0",active:C===e.value,onClick:()=>{_(e.value),e.value},children:e.label},e.value)))})]})]}),(0,g.jsx)(n.JZ,{style:{height:"300px",marginTop:"40px"},data:M[C],options:{maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"top",offset:8,font:{weight:"bold"},formatter:e=>e.toLocaleString()}},scales:{x:{grid:{drawOnChartArea:!1}},y:{ticks:{beginAtZero:!0,maxTicksLimit:5,stepSize:Math.ceil(50),max:250}}},elements:{line:{tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}}})]}),(0,g.jsx)(b.Z,{spinning:N,fullscreen:!0})]})]})}},29759:(e,a,r)=>{r.d(a,{N:()=>l});var l=["32 32","<path d='M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z'/>"]},98723:(e,a,r)=>{r.d(a,{j:()=>l});var l=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='272 434.744 272 209.176 240 209.176 240 434.744 188.118 382.862 165.49 405.489 256 496 346.51 405.489 323.882 382.862 272 434.744' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M400,161.176c0-79.4-64.6-144-144-144s-144,64.6-144,144a96,96,0,0,0,0,192h80v-32H112a64,64,0,0,1,0-128h32v-32a112,112,0,0,1,224,0v32h32a64,64,0,0,1,0,128H320v32h80a96,96,0,0,0,0-192Z' class='ci-primary'/>"]},81172:(e,a,r)=>{r.d(a,{Q:()=>l});var l=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M403.6,343.656l-72.823-47.334L344.043,272h23.428a48,48,0,0,0,44.119-66.908L361.581,90.57a112.029,112.029,0,0,0-211.162,0L100.41,205.092A48,48,0,0,0,144.529,272h23.428l13.266,24.322L108.4,343.656A79.725,79.725,0,0,0,72,410.732V496H440V410.732A79.727,79.727,0,0,0,403.6,343.656ZM408,464H104V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479L186.953,240H144.529a16,16,0,0,1-14.72-22.27l50.172-114.9.448-1.143a80.029,80.029,0,0,1,151.142,0l.2.58L382.191,217.73A16,16,0,0,1,367.471,240H325.047L288.5,307.007l97.661,63.479h0A47.836,47.836,0,0,1,408,410.732Z' class='ci-primary'/>"]},30386:(e,a,r)=>{r.d(a,{Z:()=>l});var l=function(e,a){if(void 0===a&&(a=100),"undefined"===typeof e)throw new TypeError("Hex color is not defined");var r,l,o;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(r=parseInt(e.slice(1,3),16),l=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16)):(r=parseInt(e.slice(1,2),16),l=parseInt(e.slice(2,3),16),o=parseInt(e.slice(3,5),16)),"rgba(".concat(r,", ").concat(l,", ").concat(o,", ").concat(a/100,")")}}}]);
//# sourceMappingURL=1915.278554ac.chunk.js.map