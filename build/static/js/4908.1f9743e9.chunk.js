"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4908],{23924:(e,n,r)=>{r.d(n,{TN:()=>l,p6:()=>s,xG:()=>t});var a=r(34461);const t=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),l=e=>new Date(e).toLocaleDateString("en-CA"),s=e=>(0,a.W)(new Date(e),"dd-MM-yyyy")},84908:(e,n,r)=>{r.r(n),r.d(n,{default:()=>x});var a=r(72791),t=r(78983),l=r(93076),s=r(30386),i=r(76131),o=(r(24846),r(56115)),c=r(14701),d=r(23458),h=r(23924),u=r(80184);const x=()=>{var e,n,r,x,y,j;const[m,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)([]),[v,g]=(0,a.useState)("daily"),[N,k]=(0,a.useState)(0),[w,B]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{const e=localStorage.getItem("userInfo"),n=JSON.parse(e).data.accessToken;try{B(!0);const e=await fetch("".concat(d.C,"/admin/statistics"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const n=await e.json();f(n),console.log(n)}else console.error("Error fetching users:",e.statusText)}catch(r){console.error("Error fetching users:",r)}finally{B(!1)}})()}),[]);const T={daily:{labels:null!==(e=b.data)&&void 0!==e&&e.revenueByDay?Object.keys(b.data.revenueByDay):[],datasets:[{label:"Daily Revenue",backgroundColor:(0,s.Z)((0,i.Z)("--cui-info"),10),borderColor:(0,i.Z)("--cui-info"),pointHoverBackgroundColor:(0,i.Z)("--cui-info"),borderWidth:2,data:null!==(n=b.data)&&void 0!==n&&n.revenueByDay?Object.entries(b.data.revenueByDay).map((e=>{let[n,r]=e;return console.log("Day:",n,"Value:",r),r})):[],fill:!0}]},monthly:{labels:null!==(r=b.data)&&void 0!==r&&r.revenueByMonth?Object.keys(b.data.revenueByMonth):[],datasets:[{label:"Monthly Revenue",backgroundColor:(0,s.Z)((0,i.Z)("--cui-info"),10),borderColor:(0,i.Z)("--cui-info"),pointHoverBackgroundColor:(0,i.Z)("--cui-info"),borderWidth:2,data:null!==(x=b.data)&&void 0!==x&&x.revenueByMonth?Object.entries(b.data.revenueByMonth).map((e=>{let[n,r]=e;return console.log("Month:",n,"Value:",r),r})):[],fill:!0}]},yearly:{labels:null!==(y=b.data)&&void 0!==y&&y.revenueByYear?Object.keys(b.data.revenueByYear):[],datasets:[{label:"Yearly Revenue",backgroundColor:(0,s.Z)((0,i.Z)("--cui-info"),10),borderColor:(0,i.Z)("--cui-info"),pointHoverBackgroundColor:(0,i.Z)("--cui-info"),borderWidth:2,data:null!==(j=b.data)&&void 0!==j&&j.revenueByYear?Object.entries(b.data.revenueByYear).map((e=>{let[n,r]=e;return console.log("Year:",n,"Value:",r),r})):[],fill:!0}]}};return(0,u.jsxs)(t.rb,{children:[(0,u.jsx)(t.xH,{className:"mb-4",children:(0,u.jsxs)(t.sl,{children:[(0,u.jsxs)(t.rb,{children:[(0,u.jsxs)(t.b7,{sm:5,children:[(0,u.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Th\u1ed1ng k\xea b\xe1n h\xe0ng"}),(0,u.jsx)("div",{className:"small text-medium-emphasis"})]}),(0,u.jsx)(t.b7,{sm:7,className:"d-none d-md-block",children:(0,u.jsx)(t.Z0,{className:"float-end me-3",children:[{value:"daily",label:"Ng\xe0y"},{value:"monthly",label:"Th\xe1ng"},{value:"yearly",label:"N\u0103m"}].map((e=>(0,u.jsx)(t.u5,{color:"outline-secondary",className:"mx-0",active:v===e.value,onClick:()=>{g(e.value),e.value},children:e.label},e.value)))})})]}),(0,u.jsx)(l.JZ,{style:{height:"300px",marginTop:"40px"},data:T[v],options:{maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"top",offset:8,font:{weight:"bold"},formatter:e=>e.toLocaleString()}},scales:{x:{grid:{drawOnChartArea:!1}},y:{ticks:{beginAtZero:!0,maxTicksLimit:5,stepSize:Math.ceil(50),max:250}}},elements:{line:{tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}}})]})}),(0,u.jsx)(t.xH,{children:(0,u.jsx)(t.sl,{children:(0,u.jsxs)(t.rb,{children:[(0,u.jsxs)(t.b7,{sm:5,children:[(0,u.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Th\u1ed1ng k\xea chi ti\u1ebft"}),(0,u.jsx)("br",{})]}),(0,u.jsx)(o.Z,{defaultActiveKey:"1",type:"card",size:"large",items:[{label:"Ng\xe0y",key:"1",children:(0,u.jsxs)(t.Sx,{children:[(0,u.jsx)(t.V,{children:(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"col",children:"#"}),(0,u.jsx)(t.is,{scope:"col",children:"Th\u1ed1ng k\xea theo ng\xe0y"}),(0,u.jsx)(t.is,{scope:"col",children:"Doanh thu"})]})}),(0,u.jsx)(t.NR,{children:b.data&&Object.entries(b.data.revenueByDay).map(((e,n)=>{let[r,a]=e;return(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"row",children:n+1}),(0,u.jsx)(t.NN,{children:r}),(0,u.jsx)(t.NN,{children:(0,h.xG)(a)||0})]},n)}))})]})},{label:"Th\xe1ng",key:"2",children:(0,u.jsxs)(t.Sx,{children:[(0,u.jsx)(t.V,{children:(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"col",children:"#"}),(0,u.jsx)(t.is,{scope:"col",children:"Th\u1ed1ng k\xea theo th\xe1ng"}),(0,u.jsx)(t.is,{scope:"col",children:"Doanh thu"})]})}),(0,u.jsx)(t.NR,{children:b.data&&Object.entries(b.data.revenueByMonth).map(((e,n)=>{let[r,a]=e;return(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"row",children:n+1}),(0,u.jsx)(t.NN,{children:r}),(0,u.jsxs)(t.NN,{children:[(0,h.xG)(a)||0," "]})]},n)}))})]})},{label:"N\u0103m",key:"3",children:(0,u.jsxs)(t.Sx,{children:[(0,u.jsx)(t.V,{children:(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"col",children:"#"}),(0,u.jsx)(t.is,{scope:"col",children:"Th\u1ed1ng k\xea theo n\u0103m"}),(0,u.jsx)(t.is,{scope:"col",children:"Doanh thu"})]})}),(0,u.jsx)(t.NR,{children:b.data&&Object.entries(b.data.revenueByYear).map(((e,n)=>{let[r,a]=e;return(0,u.jsxs)(t.T6,{children:[(0,u.jsx)(t.is,{scope:"row",children:n+1}),(0,u.jsx)(t.NN,{children:r}),(0,u.jsx)(t.NN,{children:(0,h.xG)(a)||0})]},n)}))})]})}]})]})})}),(0,u.jsx)(c.Z,{spinning:w,fullscreen:!0})]})}},76131:(e,n,r)=>{r.d(n,{Z:()=>a});var a=function(e,n){if("undefined"!==typeof window&&"undefined"!==typeof document){var r=null!==n&&void 0!==n?n:document.body;return window.getComputedStyle(r,null).getPropertyValue(e).replace(/^\s/,"")}}},30386:(e,n,r)=>{r.d(n,{Z:()=>a});var a=function(e,n){if(void 0===n&&(n=100),"undefined"===typeof e)throw new TypeError("Hex color is not defined");var r,a,t;if(!e.match(/^#(?:[0-9a-f]{3}){1,2}$/i))throw new Error("".concat(e," is not a valid hex color"));return 7===e.length?(r=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),t=parseInt(e.slice(5,7),16)):(r=parseInt(e.slice(1,2),16),a=parseInt(e.slice(2,3),16),t=parseInt(e.slice(3,5),16)),"rgba(".concat(r,", ").concat(a,", ").concat(t,", ").concat(n/100,")")}}}]);
//# sourceMappingURL=4908.1f9743e9.chunk.js.map